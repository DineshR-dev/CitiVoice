{% extends 'frontend/includes/base.html' %}
{% block title %}Complaint Records - CitiVoice{% endblock %}
{% block dynamic_content  %}

{# Complaint records page with filter #}
<div class="container py-2">
  <h4 class="text-center mb-3">Complaints Records</h4>
  <div class="container px-5">
    <div class="card p-4 mx-auto">

      <!-- Top Filter & Status -->
      <div class="d-flex justify-content-end align-items-center mb-4" style="gap: 10%;">
        <div>
          <label for="status-filter" class="me-2 fw-semibold">Status:</label>
          <select id="status-filter" class="form-select d-inline-block w-auto" onchange="getTakenComplaints(1)">
            <option value="">All</option>
            <option value="pending">Pending</option>
            <option value="active">Active</option>
            <option value="completed">Completed</option>
          </select>
        </div>
        <div>
          <label for="location-filter" class="me-2 fw-semibold">Location:</label>
          <select id="location-filter" class="form-select d-inline-block w-auto" onchange="getTakenComplaints(1)">
            <option value="">All</option>
            {% for location in locations %}
              <option value="{{ location.id }}">{{ location.name }}</option>
            {% endfor %}
          </select>
        </div>
      </div>
      
      <!-- Complaints List -->
      <div id="complaints-list">
        {% include 'frontend/includes/complaints_taken_partial.html' %}
      </div>
    </div>
  </div>
</div>
{% endblock %}